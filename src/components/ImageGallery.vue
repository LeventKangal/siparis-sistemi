<template>
  <div class="gallery-container">
    <h2>ğŸ“¸ KullanÄ±m Klavuzu</h2>
    <div class="gallery-grid">
      <div v-for="(image, index) in images":key="index" class="gallery-item">
  <img :src="image.src" :alt="image.alt" @click="openModal(index)" />
  <p>{{ image.caption}}</p>
       </div>
    </div>

    <!-- Modal GÃ¶rÃ¼nÃ¼m -->
    <div v-if="showModal" class="modal" @click.self="closeModal">
  <img :src="images[currentIndex].src" :alt="images[currentIndex].alt" />
  <p>{{ images[currentIndex].caption}}</p>
  <button class="close-btn" @click="closeModal">Kapat</button>
     </div>
  </div>
</template>



<script setup>
import { ref} from 'vue';

const companyName = localStorage.getItem('companyName') || '';
const userType  = localStorage.getItem('userType') || '';
let images = [];

if (userType === 'T') {
  images = [
    { src: `/images/${companyName}/Page_01.png`, alt: 'HoÅŸ Geldiniz', caption: '1. HoÅŸ Geldiniz EkranÄ±.'},
    { src: `/images/${companyName}/Page_02.png`, alt: 'GiriÅŸ EkranÄ±', caption: '2. GiriÅŸ EkranÄ±.'},
    { src: `/images/${companyName}/Page_03.png`, alt: 'TÃ¼retici SipariÅŸ EkranÄ±', caption: '3. TÃ¼retici SipariÅŸ EkranÄ±'},
    { src: `/images/${companyName}/Page_04.png`, alt: 'TÃ¼retici SipariÅŸ SeÃ§enekleri', caption: '4. TÃ¼retici SipariÅŸ SeÃ§enekleri'},
    { src: `/images/${companyName}/Page_05.png`, alt: 'Ãœretici SeÃ§me EkranÄ±', caption: '5. Ãœretici SeÃ§me EkranÄ±'},
    { src: `/images/${companyName}/Page_06.png`, alt: 'Ãœretici ÃœrÃ¼nleri', caption: '6. Ãœretici ÃœrÃ¼nleri.'},
    { src: `/images/${companyName}/Page_07.png`, alt: 'ÃœrÃ¼n BazÄ±nda Arama', caption: '7. ÃœrÃ¼n BazÄ±nda Arama EkranÄ±.'},
    { src: `/images/${companyName}/Page_08.png`, alt: 'TÃ¼retici Bilgilendirme EkranÄ±', caption: '8. TÃ¼retici Bilgilendirme EkranÄ±'},
    { src: `/images/${companyName}/Page_09.png`, alt: 'TÃ¼retici SipariÅŸleri GÃ¶rÃ¼ntÃ¼leme', caption: '9. TÃ¼retici SipariÅŸleri GÃ¶rÃ¼ntÃ¼leme + PDF'},
    { src: `/images/${companyName}/Page_10.png`, alt: 'TÃ¼retici SipariÅŸleri GÃ¶rÃ¼ntÃ¼leme', caption: '10. TÃ¼retici SipariÅŸleri GÃ¶rÃ¼ntÃ¼leme'},
    { src: `/images/${companyName}/Page_11.png`, alt: 'TÃ¼retici SipariÅŸ GÃ¼ncelleme', caption: '11. TÃ¼retici SipariÅŸ GÃ¼ncelleme'},
    { src: `/images/${companyName}/Page_12.png`, alt: 'TÃ¼retici SipariÅŸ Silme', caption: '12. TÃ¼retici SipariÅŸ Silme'},


  ];
} else if (userType === 'U') {
  images = [
    { src: `/images/${companyName}/U1.png`, alt: 'HoÅŸ Geldiniz', caption: '1. HoÅŸ Geldiniz ekranÄ±'},
    { src: `/images/${companyName}/U2.png`, alt: 'GiriÅŸ EkranÄ±', caption: '2. GiriÅŸ EkranÄ±.'},
    { src: `/images/${companyName}/U3.png`, alt: 'Ãœretici Ä°ÅŸlemleri EkranÄ±', caption: '3. Ãœretici Ä°ÅŸlemleri EkranÄ±'},
    { src: `/images/${companyName}/U4.png`, alt: 'ÃœrÃ¼nleri DÃ¼zenleme', caption: '4. ÃœrÃ¼nleri DÃ¼zenleme EkranÄ±'},
    { src: `/images/${companyName}/U5.png`, alt: 'Ãœretici Ä°ÅŸlemleri', caption: '5. Ãœretici Ä°ÅŸlemleri'},
    { src: `/images/${companyName}/U6.png`, alt: 'Yeni ÃœrÃ¼n Ekleme', caption: '6. Yeni ÃœrÃ¼n Ekleme ekranÄ±'},
    { src: `/images/${companyName}/U7.png`, alt: 'SipariÅŸ GÃ¶rÃ¼ntÃ¼leme', caption: '7. SipariÅŸ GÃ¶rÃ¼ntÃ¼leme ekranÄ±'},
    { src: `/images/${companyName}/U8.png`, alt: 'GiriÅŸ SÄ±ralÄ± GÃ¶rÃ¼ntÃ¼leme', caption: '8. GiriÅŸ SÄ±ralÄ± GÃ¶rÃ¼ntÃ¼leme ekranÄ±'},
    { src: `/images/${companyName}/U9.png`, alt: 'SipariÅŸleri pdf e Ã‡Ä±kma', caption: '9. SipariÅŸleri pdf e Ã‡Ä±kma ekranÄ±'},
  ];
}


const showModal = ref(false);
const currentIndex = ref(0);

function openModal(index) {
  currentIndex.value = index;
  showModal.value = true;
}

function closeModal() {
  showModal.value = false;
}
</script>

<style scoped>
.gallery-container {
  max-width: 1000px;
  margin: auto;
  padding: 10px;
  font-family: Arial, sans-serif;
}

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 24px;
}

.gallery-item img {
  width: 100%;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(0,0,0,0.1);
  transition: transform 0.2s ease;
  height: 180px; /* sabit yÃ¼kseklik */
  object-fit: cover;
}

.gallery-item img:hover {
  transform: scale(1.02);
}

.gallery-item p {
  margin-top: 8px;
  font-size: 14px;
  color: #555;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85); /* daha koyu ve net odak */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 999;
  padding: 20px;
  transition: opacity 0.3s ease;
  overflow-y: auto; /* iÃ§erik taÅŸarsa kaydÄ±rÄ±labilir olsun */
}

.modal img {
  max-width: 100%;
  max-height: 90vh; /* daha fazla dikey alan */
  border-radius: 8px;
  object-fit: contain;
  transition: opacity 0.3s ease;
}

.modal p {
  margin-top: 16px;
  color: #fff;
  font-size: 16px;
  text-align: center;
}

.modal img:hover {
  transform: scale(1.02);
}

.close-btn {
  margin-top: 0px;
  padding: 10px 20px;
  background-color: #0077cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  z-index: 1000; /* diÄŸer iÃ§eriklerin Ã¼stÃ¼nde kalÄ±r */
}

</style>